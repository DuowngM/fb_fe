(window.webpackJsonp=window.webpackJsonp||[]).push([[112,41,42,43],{1067:function(t,e,n){"use strict";n.r(e);var r=n(11),o=(n(215),n(27),n(623)),c=n(565),l=n(563),d=n(22).a.get("posts"),h={components:{HeaderExternalPost:o.default,LikeButton:c.default,InputComment:l.default},layout:"headerTransparent",data:function(){return{post:{},brothersPost:[],next:0,prev:0}},computed:{param:function(){return this.$route.params.id},user:function(){return this.$store.state.authModule.user}},watch:{brothersPost:{handler:"finIndex",deep:!0}},created:function(){this.fetchPost()},methods:{fetchPost:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getPost({postId:t.param,userId:t.user.user_id});case 2:n=e.sent,t.post=n.data.post,t.brothersPost=n.data.brothersPost;case 5:case"end":return e.stop()}}),e)})))()},finIndex:function(){var t=this,e=this.brothersPost.findIndex((function(e){return+e.post_id==+t.param}));e===this.brothersPost.length-1?this.next=this.brothersPost[0]:this.next=this.brothersPost[e+1],this.prev=0===e?this.brothersPost[this.brothersPost.length-1]:this.brothersPost[e-1]},handleNext:function(){this.$router.push("/photo/".concat(this.next.post_id))},handlePrev:function(){this.$router.push("/photo/".concat(this.prev.post_id))}}},f=n(8),component=Object(f.a)(h,(function(){var t,e=this,n=e._self._c;return n("div",{staticClass:"flex h-screen"},[n("div",{staticClass:"w-[76%] bg-black h-full flex items-center justify-center relative overflow-hidden"},[n("img",{staticClass:"h-full max-w-full object-cover",attrs:{src:null===(t=e.post.media)||void 0===t?void 0:t.url}}),e._v(" "),n("div",{staticClass:"absolute top-1/2 -translate-y-1/2 right-4 w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center hover:bg-gray-400 cursor-pointer",on:{click:e.handleNext}},[n("i",{staticClass:"x1b0d499 xep6ejk",staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yG/r/UMAvBmuqi-U.png')","background-position":"-138px -28px","background-size":"190px 200px",width:"24px",height:"24px","background-repeat":"no-repeat",display:"inline-block"},attrs:{"data-visualcompletion":"css-img"}})]),e._v(" "),n("div",{staticClass:"absolute top-1/2 -translate-y-1/2 left-4 w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center hover:bg-gray-400 cursor-pointer",on:{click:e.handlePrev}},[n("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yG/r/UMAvBmuqi-U.png')","background-position":"-86px -28px","background-size":"190px 200px",width:"24px",height:"24px","background-repeat":"no-repeat",display:"inline-block"}})])]),e._v(" "),n("div",{staticClass:"w-[24%] min-h-screen bg-white h-full"},[n("div",[e._m(0),e._v(" "),n("div",{staticClass:"px-2 pt-4 pb-3"},[n("HeaderExternalPost"),e._v(" "),n("button",{staticClass:"bg-[#E4E6EB] font-semibold text-[15px] px-5 py-2 rounded-md ml-3 mt-2 inline-block"},[e._v("\n          Chỉnh sửa\n        ")])],1),e._v(" "),n("div",{staticClass:"flex items-center justify-center px-4 border-t border-gray-300 mt-4"},[n("div",{staticClass:"w-1/2 border-b border-gray-300"},[n("LikeButton",{attrs:{post:e.post}})],1),e._v(" "),e._m(1)]),e._v(" "),n("div",{staticClass:"px-4 py-2 mt-1 flex items-start gap-2"},[e._m(2),e._v(" "),n("div",{staticClass:"w-[90%]"},[n("InputComment")],1)])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-14 border-t border-gray-300 px-4 pt-3 flex items-center justify-between"},[e("div",{staticClass:"flex items-center gap-2"},[e("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yh/r/w5HRkHSSN-4.png')","background-position":"0px -260px","background-size":"26px 414px",width:"16px",height:"16px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(50%)"}}),t._v(" "),e("span",{staticClass:"text-[#65676B] text-[13px]"},[t._v("Ảnh này nằm trong một bài viết.\n          ")])]),t._v(" "),e("div",{staticClass:"text-[13px] cursor-pointer hover:underline font-semibold"},[t._v("\n          Xem bài viết\n        ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-[#65676B] w-1/2 text-[15px] font-semibold flex items-center gap-2 justify-center hover:bg-gray-200 py-2 rounded cursor-pointer border-b border-gray-300"},[e("div",{staticClass:"font-semibold flex items-center justify-center"},[e("i",{staticClass:"x1b0d499 x1d69dk1",staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/WoftRVRTwaO.png')","background-position":"-170px -62px","background-size":"190px 204px",width:"18px",height:"18px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(40%)"},attrs:{"data-visualcompletion":"css-img"}})]),t._v(" "),e("div",[t._v("Bình Luận")])])},function(){var t=this._self._c;return t("div",{staticClass:"w-8 h-8 rounded-full overflow-hidden flex items-center justify-center"},[t("img",{staticClass:"w-full h-full object-cover",attrs:{src:"https://i.ex-cdn.com/mientay.giadinhonline.vn/files/content/2022/04/12/1-1047.jpg"}})])}],!1,null,null,null);e.default=component.exports},550:function(t,e,n){"use strict";n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return N}));var r=n(571),o=n.n(r),c=n(572),l=n.n(c),d=n(573),h=n.n(d),f=n(574),v=n.n(f),x=n(575),m=n.n(x),w=n(576),k=n.n(w),_=n(577),y=n.n(_),C=n(578),P=n.n(C),I=n(579),j=n.n(I),L=n(580),S=n.n(L),$=n(581),H=n.n($),R=n(582),U=n.n(R),E=n(583),z=n.n(E),B=n(584),M=n.n(B),T=[{id:1,icon:o.a,name:"like"},{id:2,icon:k.a,name:"love"},{id:3,icon:v.a,name:"dear"},{id:4,icon:m.a,name:"haha"},{id:5,icon:l.a,name:"wow"},{id:6,icon:y.a,name:"sad"},{id:7,icon:h.a,name:"angry"}],N=[{id:1,icon:P.a,name:"like"},{id:2,icon:j.a,name:"love"},{id:3,icon:S.a,name:"dear"},{id:4,icon:H.a,name:"haha"},{id:5,icon:U.a,name:"wow"},{id:6,icon:z.a,name:"sad"},{id:7,icon:M.a,name:"angry"}]},563:function(t,e,n){"use strict";n.r(e);var r={name:"InputComment",components:{Icon:n(213).default},data:function(){return{value:"",flag:!0,showIcon:!1,innerText:""}},methods:{hideIcon:function(){this.showIcons=!1},updateValue:function(t){this.value=t.target.innerHTML,this.innerText=t.target.innerText},focusInput:function(){var span=document.createElement("span");this.flag&&(span.style.minWidth="20px",span.style.minHeight="20px",span.style.display="inline-block",span.style.overflowWrap="break-word",this.$refs.inputRef.appendChild(span),this.flag=!1)},addIcon:function(t){var span=document.createElement("span");span.style.backgroundImage="url(".concat(t,")"),span.style.width="20px",span.style.height="20px",span.style.backgroundSize="cover",span.style.display="inline-block",span.style.paddingLeft="20px",this.$refs.inputRef.appendChild(span),this.value=this.$refs.inputRef.innerHTML,this.flag=!0},handleSendMessenger:function(){this.$emit("addMess",{value:this.value,innerText:this.innerText}),this.$refs.handleEnter.blur(),this.$refs.handleEnter.innerHTML="",this.value="",this.innerText=""}}},o=n(8),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",[t.showIcon?e("div",{staticClass:"fixed top-0 left-0 w-screen h-screen",on:{click:function(e){e.stopPropagation(),t.showIcon=!1}}}):t._e(),t._v(" "),e("div",{staticClass:"bg-[#F0F2F5] rounded-3xl min-h-fit dark:bg-[#3A3B3C]"},[e("div",{staticClass:"py-2 px-4 relative"},[e("div",{ref:"handleEnter",staticClass:"w-full min-h-[20px] outline-none flex items-center flex-wrap break-all max-w-[470px] bg-transparent relative z-20 dark:text-[#E4E6EB]",attrs:{contenteditable:""},on:{input:t.updateValue,focus:t.focusInput,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSendMessenger.apply(null,arguments)}}},[e("p",{ref:"inputRef",staticClass:"whitespace-pre-wrap break-all w-[466px] flex items-center"})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.value,expression:"!value"}],staticClass:"absolute text-gray-500 z-10 text-base font-normal top-2 left-3 dark:text-[#E4E6EB]"},[t._v("\n        "+t._s(t.$t("home.writeCmt"))+"\n      ")])]),t._v(" "),e("div",{staticClass:"px-2 flex justify-between"},[e("div",{staticClass:"flex items-center"},[t._m(0),t._v(" "),e("div",{staticClass:"w-8 h-8 rounded-full hover:bg-gray-200 flex items-center justify-center cursor-pointer relative",on:{click:function(e){t.showIcon=!t.showIcon}}},[e("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yh/r/w5HRkHSSN-4.png')","background-position":"0px -224px","background-size":"26px 414px",width:"16px",height:"16px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(40%)"}}),t._v(" "),t.showIcon?e("div",{staticClass:"absolute -top-[270px] -left-[145px] -translate-x-1/2 w-[324px] h-[264px] rounded-md bg-white overflow-hidden pt-1 z-30",staticStyle:{"box-shadow":"rgba(0, 0, 0, 0.25) 0px 54px 55px"}},[e("Icon",{attrs:{"show-icon":t.showIcon},on:{"update:addIcon":t.addIcon}})],1):t._e()]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3)]),t._v(" "),t.value?t._e():e("div",{staticClass:"w-8 h-8 rounded-full hover:bg-gray-200 flex items-center justify-center cursor-pointer"},[e("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yh/r/w5HRkHSSN-4.png')","background-position":"0px -278px","background-size":"26px 414px",width:"16px",height:"16px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(70%)"}})]),t._v(" "),t.value?e("div",{staticClass:"flex items-center justify-center w-8 h-8 rounded-full hover:bg-gray-200 cursor-pointer",on:{click:t.handleSendMessenger}},[t._m(4)]):t._e()])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"w-8 h-8 rounded-full hover:bg-gray-200 flex items-center justify-center cursor-pointer"},[t("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yh/r/w5HRkHSSN-4.png')","background-position":"0px -134px","background-size":"26px 414px",width:"16px",height:"16px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(40%)"}})])},function(){var t=this._self._c;return t("div",{staticClass:"w-8 h-8 rounded-full hover:bg-gray-200 flex items-center justify-center cursor-pointer"},[t("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yh/r/w5HRkHSSN-4.png')","background-position":"0px -170px","background-size":"26px 414px",width:"16px",height:"16px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(40%)"}})])},function(){var t=this._self._c;return t("div",{staticClass:"w-8 h-8 rounded-full hover:bg-gray-200 flex items-center justify-center cursor-pointer"},[t("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yh/r/w5HRkHSSN-4.png')","background-position":"0px -242px","background-size":"26px 414px",width:"16px",height:"16px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(40%)"}})])},function(){var t=this._self._c;return t("div",{staticClass:"w-8 h-8 rounded-full hover:bg-gray-200 flex items-center justify-center cursor-pointer"},[t("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yh/r/w5HRkHSSN-4.png')","background-position":"0px -332px","background-size":"26px 414px",width:"16px",height:"16px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(40%)"}})])},function(){var t=this._self._c;return t("div",{staticClass:"w-6 h-6"},[t("img",{staticClass:"w-full h-full object-cover",attrs:{src:"https://cdn4.iconfinder.com/data/icons/message-4-flat/512/26_Send-512.png"}})])}],!1,null,"37f3ad6c",null);e.default=component.exports},565:function(t,e,n){"use strict";n.r(e);n(47);var r=n(22),o=n(550),c=n(622),l=r.a.get("likePostRepository"),d={name:"LikeButton",components:{IconLikePost:c.default},props:{post:{type:Object,default:function(){return{status:""}}}},data:function(){return{showFiveIconLike:!1,staticIcon:o.b,newPost:{},user:null}},watch:{post:{handler:function(t){this.newPost=t},immediate:!0,deep:!0},"$store.state.authModule.user":{handler:function(t){this.user=t},immediate:!0,deep:!0}},methods:{handleAddLike:function(t){"Unreact"===this.newPost.status&&(t.name?this.newPost.status=t.name:(t.icon="/_nuxt/assets/post/IconLike/like.gif",t.name="like",t.id=1,this.newPost.status="like"),this.$emit("addLike",t)),"Unreact"!==this.newPost.status&&(t.name?(this.newPost.status=t.name,this.$emit("addLike",t)):(this.newPost.status="Unreact",l.deleteLikePost({postId:this.newPost.post_id,userId:this.user.user_id})))},handleAddLike1:function(){this.newPost.status="like";var t={name:"like",icon:"/_nuxt/assets/post/IconLike/like.gif",id:1};l.postLike({userId:this.user.user_id,postId:this.newPost.post_id,type:t.name}),this.handleAddLike(t)},handleUnLike:function(){l.deleteLikePost({userId:this.user.user_id,postId:this.newPost.post_id}),this.$emit("Unlike"),this.newPost.status="Unreact"}}},h=n(8),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"relative text-[#65676B] text-[15px] font-semibold flex items-center gap-2 justify-center hover:bg-gray-200 py-2 rounded cursor-pointer",on:{mouseover:function(e){t.showFiveIconLike=!0},mouseleave:function(e){t.showFiveIconLike=!1}}},["Unreact"===t.newPost.status?e("div",{staticClass:"font-semibold flex items-center justify-center"},[e("i",{staticStyle:{color:"red","background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/WoftRVRTwaO.png')","background-position":"-130px -132px","background-size":"190px 204px",width:"18px",height:"18px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(40%)"}})]):t._e(),t._v(" "),"like"===t.newPost.status?e("div",{staticClass:"w-[18px] h-[18px] flex items-center justify-center overflow-hidden -ml-1 rounded-full"},[e("img",{staticClass:"w-full h-full object-cover",attrs:{src:t.staticIcon[0].icon}})]):t._e(),t._v(" "),"love"===t.newPost.status?e("div",{staticClass:"w-[18px] h-[18px] flex items-center justify-center overflow-hidden -ml-1 rounded-full"},[e("img",{staticClass:"w-full h-full object-cover",attrs:{src:t.staticIcon[1].icon}})]):t._e(),t._v(" "),"dear"===t.newPost.status?e("div",{staticClass:"w-[18px] h-[18px] flex items-center justify-center overflow-hidden -ml-1 rounded-full"},[e("img",{staticClass:"w-full h-full object-cover",attrs:{src:t.staticIcon[2].icon}})]):t._e(),t._v(" "),"haha"===t.newPost.status?e("div",{staticClass:"w-[18px] h-[18px] flex items-center justify-center overflow-hidden -ml-1 rounded-full"},[e("img",{staticClass:"w-full h-full object-cover",attrs:{src:t.staticIcon[3].icon}})]):t._e(),t._v(" "),"wow"===t.newPost.status?e("div",{staticClass:"w-[18px] h-[18px] flex items-center justify-center overflow-hidden -ml-1 rounded-full"},[e("img",{staticClass:"w-full h-full object-cover",attrs:{src:t.staticIcon[4].icon}})]):t._e(),t._v(" "),"sad"===t.newPost.status?e("div",{staticClass:"w-[18px] h-[18px] flex items-center justify-center overflow-hidden -ml-1 rounded-full"},[e("img",{staticClass:"w-full h-full object-cover",attrs:{src:t.staticIcon[5].icon}})]):t._e(),t._v(" "),"angry"===t.newPost.status?e("div",{staticClass:"w-[18px] h-[18px] flex items-center justify-center overflow-hidden -ml-1 rounded-full"},[e("img",{staticClass:"w-full h-full object-cover",attrs:{src:t.staticIcon[6].icon}})]):t._e(),t._v(" "),"Unreact"===t.newPost.status?e("div",{staticClass:"text-[15px]",on:{click:t.handleAddLike1}},[t._v(t._s(t.$t("home.like")))]):t._e(),t._v(" "),"like"===t.newPost.status?e("div",{staticClass:"text-[rgb(32,120,244)] font-semibold text-[15px]",on:{click:t.handleUnLike}},[t._v("\n  "+t._s(t.$t("home.like"))+"\n  ")]):t._e(),t._v(" "),"love"===t.newPost.status?e("div",{staticClass:"text-[rgb(243,62,88)]",on:{click:t.handleUnLike}},[t._v("\n    "+t._s(t.$t("home.love"))+"\n  ")]):t._e(),t._v(" "),"dear"===t.newPost.status?e("div",{staticClass:"text-[rgb(247,177,37)]",on:{click:t.handleUnLike}},[t._v("\n    "+t._s(t.$t("home.care"))+"\n  ")]):t._e(),t._v(" "),"haha"===t.newPost.status?e("div",{staticClass:"text-[rgb(247,177,37)]",on:{click:t.handleUnLike}},[t._v("\n    "+t._s(t.$t("home.haha"))+"\n  ")]):t._e(),t._v(" "),"wow"===t.newPost.status?e("div",{staticClass:"text-[rgb(247,177,37)]",on:{click:t.handleUnLike}},[t._v("\n    "+t._s(t.$t("home.wow"))+"\n  ")]):t._e(),t._v(" "),"sad"===t.newPost.status?e("div",{staticClass:"text-[rgb(247,177,37)]",on:{click:t.handleUnLike}},[t._v("\n    "+t._s(t.$t("home.sad"))+"\n  ")]):t._e(),t._v(" "),"angry"===t.newPost.status?e("div",{staticClass:"text-[rgb(233,113,15)]",on:{click:t.handleUnLike}},[t._v("\n    "+t._s(t.$t("home.angry"))+"\n  ")]):t._e(),t._v(" "),t.showFiveIconLike?e("div",{staticClass:"absolute z-30 -top-[48px] left-0 bg-white rounded-3xl shadow-xl border border-gray-300",on:{mouseover:function(e){t.showFiveIconLike=!0},mouseleave:function(e){t.showFiveIconLike=!1}}},[e("IconLikePost",{attrs:{id:t.post.post_id},on:{handleAddLike:t.handleAddLike}})],1):t._e()])}),[],!1,null,null,null);e.default=component.exports},571:function(t,e,n){t.exports=n.p+"img/like.32dd38e.gif"},572:function(t,e,n){t.exports=n.p+"img/wow.1408d28.gif"},573:function(t,e,n){t.exports=n.p+"img/angry.beb21df.gif"},574:function(t,e,n){t.exports=n.p+"img/care.464f2a6.gif"},575:function(t,e,n){t.exports=n.p+"img/haha.972b648.gif"},576:function(t,e,n){t.exports=n.p+"img/love.12b6320.gif"},577:function(t,e,n){t.exports=n.p+"img/sad.06da7b8.gif"},578:function(t,e,n){t.exports=n.p+"img/likeStatic.030d77c.svg"},579:function(t,e,n){t.exports=n.p+"img/loveStatic.1340f6c.svg"},580:function(t,e,n){t.exports=n.p+"img/dearStatic.24cb2ab.svg"},581:function(t,e,n){t.exports=n.p+"img/hahaStatic.3388777.svg"},582:function(t,e,n){t.exports=n.p+"img/wowStatic.ec53b1c.svg"},583:function(t,e,n){t.exports=n.p+"img/sadStatic.efb1470.svg"},584:function(t,e,n){t.exports=n.p+"img/angryStatic.791420f.svg"},622:function(t,e,n){"use strict";n.r(e);n(117),n(47);var r=n(550),o=n(22).a.get("likePostRepository"),c={props:{id:{type:Number,default:0}},data:function(){return{animatedIconLikePost:r.a,flag:!0}},computed:{userId:function(){var t;return null===(t=this.$store.state.authModule.user)||void 0===t?void 0:t.user_id}},methods:{handleLike:function(t){console.log(t),o.postLike({userId:this.userId,postId:this.id,type:t.name}),this.$emit("handleAddLike",t)}}},l=n(8),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex"},t._l(t.animatedIconLikePost,(function(n){return e("div",{key:n.id,staticClass:"w-12 h-12 flex items-center justify-center cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.handleLike(n)}}},[e("img",{staticClass:"w-full h-full object-cover hover:scale-150 transition duration-300 ease-in-out",attrs:{src:n.icon}})])})),0)}),[],!1,null,null,null);e.default=component.exports}}]);