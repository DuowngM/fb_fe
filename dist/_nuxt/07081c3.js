(window.webpackJsonp=window.webpackJsonp||[]).push([[85,18],{1021:function(e,t,n){"use strict";n.r(t);var r=n(11),d=(n(27),n(22)),l=n(805),o=d.a.get("friendsRepository"),c={name:"FriendsHome",components:{FriendItem:l.default},layout:"layoutFriends",data:function(){return{request:[],userId:null}},watch:{"$store.state.authModule.user":{handler:function(e){console.log(e),this.userId=e.user_id,this.fetchRequestFriends()},deep:!0,immediate:!0}},methods:{fetchRequestFriends:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.requestsFriends({userId:e.userId});case 3:n=t.sent,e.request=n.data,console.log(e.request),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},handleIdFriend:function(e){this.$store.dispatch("setId",{userDetail:e,curentUser:this.userId})}}},f=n(8),component=Object(f.a)(c,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"p-9 bg-slate-100 min-h-screen"},[t("div",{staticClass:"pb-4 text-xl font-bold"},[e._v("Lời mời kết bạn")]),e._v(" "),0===e.request.length?t("div",{staticClass:"text-xl font-semibold w-full p-4 border border-gray-300 rounded-md text-center"},[e._v("\n      Bạn Chưa có lời mời kết bạn\n    ")]):e._e(),e._v(" "),t("div",{staticClass:"grid grid-cols-5 gap-2"},e._l(e.request,(function(n){return t("div",{key:n.sender_id,staticClass:"rounded-xl overflow-hidden border border-gray-300",staticStyle:{"box-shadow":"rgba(0, 0, 0, 0.02) 0px 1px 3px 0px,"}},[t("div",[t("FriendItem",{attrs:{"user-id":e.userId,user:n}})],1)])})),0)])])}),[],!1,null,null,null);t.default=component.exports},805:function(e,t,n){"use strict";n.r(t);var r=n(22).a.get("friendsRepository"),d={props:{userId:{type:String,default:"0"},user:{type:Object,default:function(){}}},data:function(){return{access:!1}},methods:{addFriend:function(e,t){e.stopPropagation(),r.agreeRequestFriend({senderId:t.sender_id,receiverId:this.userId}),this.access=!0},handleIdFriend:function(e){console.log(e)}}},l=n(8),component=Object(l.a)(d,(function(){var e=this,t=e._self._c;return t("div",[t("nuxt-link",{staticClass:"flex items-center justify-center w-[228px] h-[228px] overflow-hidden",attrs:{to:"/friends/requests"}},[t("img",{staticClass:"object-cover w-full h-full",attrs:{src:e.user.avatar},on:{click:function(t){return e.handleIdFriend(e.user.sender_id)}}})]),e._v(" "),t("div",{staticClass:"p-3 bg-white flex flex-col justify-between h-[170px]"},[t("div",[t("nuxt-link",{staticClass:"text-[17px] font-semibold",attrs:{to:"/friends/requests"}},[t("div",{staticClass:"hover:underline",on:{click:function(t){return e.handleIdFriend(e.user.sender_id)}}},[e._v("\n          "+e._s(e.user.fullName)+"\n        ")])]),e._v(" "),t("div",{staticClass:"flex items-center gap-1"},[t("div",{staticClass:"flex items-center gap-2"},[t("div",{staticClass:"flex items-center"},[e.user.commonFriends[0]?t("div",{staticClass:"w-6 h-6 relative border-2 border-white rounded-full overflow-hidden z-10"},[t("img",{staticClass:"w-full h-full object-cover",attrs:{src:e.user.commonFriends[0].avatar}})]):e._e(),e._v(" "),e.user.commonFriends[1]?t("div",{staticClass:"w-6 h-6 relative -ml-2 border-2 border-white rounded-full overflow-hidden"},[t("img",{staticClass:"w-full h-full object-cover",attrs:{src:e.user.commonFriends[1].avatar}})]):e._e(),e._v(" "),e.user.commonFriends.length>0?t("div",{staticClass:"text-[#65676B] text-[15px]"},[e._v("\n            "+e._s(e.user.commonFriends.length)+" bạn chung\n          ")]):e._e()])]),e._v(" "),t("div",{staticClass:"text-[#65676B]"})])],1),e._v(" "),e.access?e._e():t("div",{staticClass:"flex flex-col gap-2 mt-3"},[t("button",{staticClass:"w-full bg-blue-600 text-white rounded-md py-2 font-semibold",on:{click:function(t){return e.addFriend(t,e.user)}}},[e._v("\n        Xác nhận\n      ")]),e._v(" "),t("button",{staticClass:"w-full bg-gray-200 font-semibold rounded-md py-2"},[e._v("\n        Xóa\n      ")])]),e._v(" "),e.access?t("div",[t("button",{staticClass:"w-full bg-[#E4E6EB] font-semibold rounded-md py-2 pointer-events-none"},[e._v("\n        Đã chập nhận lời mời\n      ")])]):e._e()])],1)}),[],!1,null,null,null);t.default=component.exports}}]);