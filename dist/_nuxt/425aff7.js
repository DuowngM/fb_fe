(window.webpackJsonp=window.webpackJsonp||[]).push([[101,39],{1035:function(t,e,o){"use strict";o.r(e);var n=o(650),r=o.n(n),c={props:{externalPost:o(570).default},data:function(){return{luffy:r.a,dataPostsGroups:[],currentUser:"",isGroups:!0}},watch:{"$store.state.authModule.user":{handler:function(t){this.currentUser=t},immediate:!0,deep:!0}}},d=(o(847),o(8)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-feels"},[e("div",{staticClass:"container-main"},[e("div",{staticClass:"wp-post-group"},t._l(t.dataPostsGroups,(function(o){return e("div",{key:o.post_id,staticClass:"w-[576px] mt-4 rounded-xl bg-white border border-gray-200 shadow-xl"},[e("externalPost",{attrs:{post:o,"is-groups":t.isGroups}})],1)})),0)]),t._v(" "),e("div",{staticClass:"container-chat"},[e("p",{staticClass:"title-join-chat"},[t._v("Đoạn chat mà bạn nên tham gia")]),t._v(" "),e("div",{staticClass:"wp-list-room"},[e("div",{staticClass:"item-rom"},[e("div",{staticClass:"wp-img"},[e("div",{staticClass:"relative h-12"},[e("div",{staticClass:"img-item-rom"},[e("img",{attrs:{src:t.luffy,alt:""}})]),t._v(" "),t._m(0)])]),t._v(" "),t._m(1)])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"img-item-chat"},[t("img",{attrs:{src:"https://scontent.xx.fbcdn.net/v/t1.15752-9/311070626_1205014643680530_1668259112361737223_n.png?stp=dst-png_p100x100&_nc_cat=1&ccb=1-7&_nc_sid=58c789&_nc_ohc=-YeU58NRx0sAX8mBozy&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_AdQEISCuKsucrpkeAYRswTR5j1hHj6aPGLxkrkbHALxkqw&oe=6526EA87",alt:""}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"wp-groups"},[e("p",{staticClass:"name-groups"},[t._v("Nazari")]),t._v(" "),e("p",{staticClass:"text-[13px] opacity-70"},[t._v("Click to join")])])}],!1,null,"b1db1cb4",null);e.default=component.exports},570:function(t,e,o){"use strict";o.r(e);o(46),o(32),o(48),o(63),o(64);var n=o(11),r=o(28),c=(o(27),o(23),o(49),o(47),o(82),o(138),o(44),o(212),o(368),o(16)),d=o(550),l=o(22),m=o(551),h=o(567),f=o(623),v=o(565),x=o(563),_=o(609);function w(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function k(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?w(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var y=l.a.get("posts"),C={name:"ExternalPost",components:{ArrangePhotos:h.default,HeaderExternalPost:f.default,LikeButton:v.default,InputComment:x.default,CommentDetail:_.default,PostDetail:m.default},middleware:"darkMode",props:{post:{type:Object,default:function(){return{background:"",content:""}}},isGroups:{type:Boolean}},data:function(){return{list:["https://thibanglaixemay360.com/wp-content/uploads/2023/05/a4dd8599ac65f84eebce0091404a6ee4.jpg"],showFiveIconLike:!1,staticIcon:d.b,showSetting:!1,totalLike:0,listImages:[],listVideos:[],checkLike:!1,postCopy:null,threeLike:[],comments:[],showPostDetail:!1,user:null,firstPost:null,userId:null,showRecomment:!1}},watch:{post:{handler:"handleListMedia",deep:!0,immediate:!0},postCopy:{handler:"handleThreeLike",deep:!0},"$store.state.authModule.user":{handler:function(t){this.user=t,this.userId=t.user_id},deep:!0,immediate:!0}},created:function(){var t=this;this.postCopy=this.post.reactions,this.fetchGetComment(),this.firstPost=this.post,console.log(this.post),this.post.reactions.forEach((function(e){t.totalLike=e.user_id.length+t.totalLike})),this.checkLike=this.post.reactions.some((function(e){return e.user_id.some((function(e){return+e==+t.userId}))})),this.handleThreeLike()},methods:{handleListMedia:function(){var t,e=this;this.postCopy=this.post.reactions,null===(t=this.post.media)||void 0===t||t.forEach((function(t){"image"===t.media_type&&e.listImages.push({url:t.url,postId:t.post_id}),"video"===t.media_type&&e.listVideos.push({url:t.url,postId:t.post_id})}))},addLike:function(t){var e=this;c.a.emit("react_post_notification",{postId:this.post.post_id,ownerId:this.userId,ownerAction:t.name}),console.log(t.name),this.checkLike||(this.totalLike+=1,this.checkLike=!0),this.postCopy=this.postCopy.map((function(o){var n=o.user_id.indexOf(e.userId);return n>-1&&o.user_id.splice(n,1),o.type===t.name&&o.user_id.push(e.userId),o}))},Unlike:function(){var t=this;this.totalLike=this.totalLike-1,this.threeLike=this.threeLike.map((function(e){return e.user_id.filter((function(e){return e!==t.userId}))}))},handleThreeLike:function(){var t=this,e=d.b.map((function(e){var o=t.postCopy.find((function(t){return t.type===e.name}));return k(k({},e),o)}));this.threeLike=e.sort((function(a,b){return b.user_id.length-a.user_id.length})).slice(0,3)},addMess:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n,r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.value,t.innerText,o.next=3,y.createComment({commentValue:n,postId:e.post.post_id,userId:e.userId});case 3:r=o.sent,c.a.emit("comment_notification",{commentId:r.data.id,postId:e.post.post_id}),console.log("comment ===> ",r.data),e.fetchGetComment();case 7:case"end":return o.stop()}}),o)})))()},fetchGetComment:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getComment({postId:t.post.post_id});case 2:o=e.sent,t.comments=o.data.allComments;case 4:case"end":return e.stop()}}),e)})))()},handleShowPostDetailt:function(t){this.showPostDetail=t}}},j=o(8),component=Object(j.a)(C,(function(){var t,e,o=this,n=o._self._c;return n("div",{},[o.showPostDetail?n("div",[n("PostDetail",{attrs:{post:o.post},on:{showPostDetailt:o.handleShowPostDetailt}})],1):o._e(),o._v(" "),"Gợi ý"===o.post.title?n("div",{staticClass:"px-4 pt-4 pb-2 text-[15px] text-[#65676B] font-medium"},[o._v("\n  "+o._s(o.$t("home.goiy"))+"\n    "),n("div",{staticClass:"w-full mx-auto border-b border-gray-300 mt-4"})]):o._e(),o._v(" "),n("HeaderExternalPost",{attrs:{post:o.post}}),o._v(" "),null!==(t=o.post)&&void 0!==t&&t.background?n("div",{staticClass:"w-full h-[410px] bg-cover bg-center flex items-center justify-center text-center",style:{backgroundImage:null===(e=o.post)||void 0===e?void 0:e.background}},[n("div",{staticClass:"px-4 pt-1 pb-4 text-white font-semibold text-3xl flex items-center justify-center text-center",domProps:{innerHTML:o._s(o.post.content)}})]):n("div",[n("div",{staticClass:"px-4 pt-1 pb-4 text-base dark:text-[#E4E6EB]",domProps:{innerHTML:o._s(o.post.content)}})]),o._v(" "),n("div",[n("ArrangePhotos",{attrs:{"list-images":o.listImages,"list-videos":o.listVideos,height:"700"}})],1),o._v(" "),n("div",{staticClass:"mx-4 py-3 flex items-center justify-between"},[n("div",{staticClass:"flex gap-4"},[n("div",{staticClass:"flex items-center -gap-1"},o._l(o.threeLike,(function(t,e){return n("div",{key:e,class:{"-ml-[6px]":e>0},style:{zIndex:8-e}},[t.user_id.length>0?n("div",{staticClass:"w-[22px] h-[22px] flex items-center justify-center border-2 border-white rounded-full relative"},[n("img",{staticClass:"w-full h-full object-cover",attrs:{src:t.icon}})]):o._e()])})),0),o._v(" "),o.totalLike>0?n("div",{staticClass:"text-[#65676B] text-[15px] hover:underline cursor-pointer"},[o._v("\n        "+o._s(o.totalLike)+"\n      ")]):o._e()]),o._v(" "),n("div",{staticClass:"flex items-center gap-4"},[n("div",{staticClass:"text-[#65676B] text-sm hover:underline cursor-pointer"},[o._v("\n        "+o._s(o.comments.length)+" "+o._s(o.$t("home.comment1"))+"\n      ")]),o._v(" "),n("div",{staticClass:"text-[#65676B] text-sm hover:underline cursor-pointer"},[o._v("\n        3 "+o._s(o.$t("home.share1"))+"\n      ")])])]),o._v(" "),n("div",{staticClass:"mx-3 border-t dark:border-[#65676B] :border-[#3E4042]"},[n("div",{staticClass:"relative grid grid-cols-3 items-center justify-between h-11"},[n("LikeButton",{attrs:{post:o.post},on:{addLike:o.addLike,Unlike:o.Unlike}}),o._v(" "),n("div",{staticClass:"text-[#65676B] text-[15px] font-semibold flex items-center gap-2 justify-center hover:bg-gray-200 py-2 rounded cursor-pointer"},[o._m(0),o._v(" "),n("div",[o._v(o._s(o.$t("home.comment")))])]),o._v(" "),n("div",{staticClass:"text-[#65676B] text-[15px] font-semibold flex items-center gap-2 justify-center hover:bg-gray-200 py-2 rounded cursor-pointer"},[o._m(1),o._v(" "),n("div",[o._v(o._s(o.$t("home.share")))])])],1)]),o._v(" "),n("div",{staticClass:"mb-2"},[o.showRecomment?o._e():n("div",{staticClass:"mx-4 text-[#65676B] text-[15px] font-medium cursor-pointer hover:underline dark:text-[#B0B3B8]",on:{click:function(t){o.showPostDetail=!0}}},[o._v("\n    "+o._s(o.$t("home.moreComment"))+"\n    ")]),o._v(" "),o._l(o.comments.slice(0,1),(function(t,e){return n("div",{key:e},[n("CommentDetail",{attrs:{comment:t},on:{showPostDetail:function(t){o.showPostDetail=!0}}})],1)})),o._v(" "),n("div",{staticClass:"p-4 pt-1"},[n("InputComment",{on:{addMess:o.addMess}})],1)],2)],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"font-semibold flex items-center justify-center"},[t("i",{staticClass:"x1b0d499 x1d69dk1",staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/WoftRVRTwaO.png')","background-position":"-170px -62px","background-size":"190px 204px",width:"18px",height:"18px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(40%)"},attrs:{"data-visualcompletion":"css-img"}})])},function(){var t=this._self._c;return t("div",{staticClass:"font-semibold flex items-center justify-center"},[t("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/WoftRVRTwaO.png')","background-position":"-150px -132px","background-size":"190px 204px",width:"18px",height:"18px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(40%)"}})])}],!1,null,"cf245536",null);e.default=component.exports;installComponents(component,{PostDetail:o(551).default})},650:function(t,e,o){t.exports=o.p+"img/lufyNgo.262bd55.jpg"},767:function(t,e,o){var content=o(848);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(20).default)("fc1317c0",content,!0,{sourceMap:!1})},847:function(t,e,o){"use strict";o(767)},848:function(t,e,o){var n=o(19)((function(i){return i[1]}));n.push([t.i,".container-feels[data-v-b1db1cb4]{height:100vh;position:relative}.container-feels .container-main[data-v-b1db1cb4]{display:flex;justify-content:center;width:65%}.container-feels .container-main .wp-post-group[data-v-b1db1cb4]{display:flex;flex-direction:column;justify-content:center;margin-top:10px;width:80%}.container-feels .container-chat[data-v-b1db1cb4]{background-color:#fff;border-radius:8px;box-shadow:0 1px 4px rgba(0,0,0,.16);overflow-y:auto;padding:8px;position:fixed;right:16px;top:78px;width:360px}.container-feels .container-chat .title-join-chat[data-v-b1db1cb4]{font-size:17px;font-weight:600;margin-bottom:4px;margin-left:8px;margin-top:12px}.container-feels .container-chat .wp-list-room[data-v-b1db1cb4]{display:flex;flex-direction:column}.container-feels .container-chat .wp-list-room .item-rom[data-v-b1db1cb4]{border-radius:8px;display:flex;gap:10px}.container-feels .container-chat .wp-list-room .item-rom[data-v-b1db1cb4]:hover{background-color:#f0f2f5}.container-feels .container-chat .wp-list-room .item-rom .wp-img[data-v-b1db1cb4]{height:60px;padding:6px;width:60px}.container-feels .container-chat .wp-list-room .item-rom .wp-img .img-item-rom[data-v-b1db1cb4]{border-radius:4px;height:32px;overflow:hidden;position:absolute;right:0;top:0;width:32px}.container-feels .container-chat .wp-list-room .item-rom .wp-img .img-item-rom img[data-v-b1db1cb4]{height:32px;-o-object-fit:cover;object-fit:cover;width:32px}.container-feels .container-chat .wp-list-room .item-rom .wp-img .img-item-chat[data-v-b1db1cb4]{background-color:#fff;border:3px solid #fff;border-radius:50%;bottom:0;height:32px;left:0;overflow:hidden;position:absolute;width:32px}.container-feels .container-chat .wp-list-room .item-rom .wp-groups .name-groups[data-v-b1db1cb4]{font-size:15px;font-weight:600}",""]),n.locals={},t.exports=n}}]);