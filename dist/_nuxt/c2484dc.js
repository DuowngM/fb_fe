(window.webpackJsonp=window.webpackJsonp||[]).push([[28,42,44],{563:function(e,t,n){"use strict";n.r(t);var r={name:"InputComment",components:{Icon:n(213).default},data:function(){return{value:"",flag:!0,showIcon:!1,innerText:""}},methods:{hideIcon:function(){this.showIcons=!1},updateValue:function(e){this.value=e.target.innerHTML,this.innerText=e.target.innerText},focusInput:function(){var span=document.createElement("span");this.flag&&(span.style.minWidth="20px",span.style.minHeight="20px",span.style.display="inline-block",span.style.overflowWrap="break-word",this.$refs.inputRef.appendChild(span),this.flag=!1)},addIcon:function(e){var span=document.createElement("span");span.style.backgroundImage="url(".concat(e,")"),span.style.width="20px",span.style.height="20px",span.style.backgroundSize="cover",span.style.display="inline-block",span.style.paddingLeft="20px",this.$refs.inputRef.appendChild(span),this.value=this.$refs.inputRef.innerHTML,this.flag=!0},handleSendMessenger:function(){this.$emit("addMess",{value:this.value,innerText:this.innerText}),this.$refs.handleEnter.blur(),this.$refs.handleEnter.innerHTML="",this.value="",this.innerText=""}}},o=n(8),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",[e.showIcon?t("div",{staticClass:"fixed top-0 left-0 w-screen h-screen",on:{click:function(t){t.stopPropagation(),e.showIcon=!1}}}):e._e(),e._v(" "),t("div",{staticClass:"bg-[#F0F2F5] rounded-3xl min-h-fit dark:bg-[#3A3B3C]"},[t("div",{staticClass:"py-2 px-4 relative"},[t("div",{ref:"handleEnter",staticClass:"w-full min-h-[20px] outline-none flex items-center flex-wrap break-all max-w-[470px] bg-transparent relative z-20 dark:text-[#E4E6EB]",attrs:{contenteditable:""},on:{input:e.updateValue,focus:e.focusInput,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSendMessenger.apply(null,arguments)}}},[t("p",{ref:"inputRef",staticClass:"whitespace-pre-wrap break-all w-[466px] flex items-center"})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.value,expression:"!value"}],staticClass:"absolute text-gray-500 z-10 text-base font-normal top-2 left-3 dark:text-[#E4E6EB]"},[e._v("\n        "+e._s(e.$t("home.writeCmt"))+"\n      ")])]),e._v(" "),t("div",{staticClass:"px-2 flex justify-between"},[t("div",{staticClass:"flex items-center"},[e._m(0),e._v(" "),t("div",{staticClass:"w-8 h-8 rounded-full hover:bg-gray-200 flex items-center justify-center cursor-pointer relative",on:{click:function(t){e.showIcon=!e.showIcon}}},[t("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yh/r/w5HRkHSSN-4.png')","background-position":"0px -224px","background-size":"26px 414px",width:"16px",height:"16px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(40%)"}}),e._v(" "),e.showIcon?t("div",{staticClass:"absolute -top-[270px] -left-[145px] -translate-x-1/2 w-[324px] h-[264px] rounded-md bg-white overflow-hidden pt-1 z-30",staticStyle:{"box-shadow":"rgba(0, 0, 0, 0.25) 0px 54px 55px"}},[t("Icon",{attrs:{"show-icon":e.showIcon},on:{"update:addIcon":e.addIcon}})],1):e._e()]),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3)]),e._v(" "),e.value?e._e():t("div",{staticClass:"w-8 h-8 rounded-full hover:bg-gray-200 flex items-center justify-center cursor-pointer"},[t("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yh/r/w5HRkHSSN-4.png')","background-position":"0px -278px","background-size":"26px 414px",width:"16px",height:"16px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(70%)"}})]),e._v(" "),e.value?t("div",{staticClass:"flex items-center justify-center w-8 h-8 rounded-full hover:bg-gray-200 cursor-pointer",on:{click:e.handleSendMessenger}},[e._m(4)]):e._e()])])])}),[function(){var e=this._self._c;return e("div",{staticClass:"w-8 h-8 rounded-full hover:bg-gray-200 flex items-center justify-center cursor-pointer"},[e("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yh/r/w5HRkHSSN-4.png')","background-position":"0px -134px","background-size":"26px 414px",width:"16px",height:"16px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(40%)"}})])},function(){var e=this._self._c;return e("div",{staticClass:"w-8 h-8 rounded-full hover:bg-gray-200 flex items-center justify-center cursor-pointer"},[e("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yh/r/w5HRkHSSN-4.png')","background-position":"0px -170px","background-size":"26px 414px",width:"16px",height:"16px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(40%)"}})])},function(){var e=this._self._c;return e("div",{staticClass:"w-8 h-8 rounded-full hover:bg-gray-200 flex items-center justify-center cursor-pointer"},[e("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yh/r/w5HRkHSSN-4.png')","background-position":"0px -242px","background-size":"26px 414px",width:"16px",height:"16px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(40%)"}})])},function(){var e=this._self._c;return e("div",{staticClass:"w-8 h-8 rounded-full hover:bg-gray-200 flex items-center justify-center cursor-pointer"},[e("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yh/r/w5HRkHSSN-4.png')","background-position":"0px -332px","background-size":"26px 414px",width:"16px",height:"16px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(40%)"}})])},function(){var e=this._self._c;return e("div",{staticClass:"w-6 h-6"},[e("img",{staticClass:"w-full h-full object-cover",attrs:{src:"https://cdn4.iconfinder.com/data/icons/message-4-flat/512/26_Send-512.png"}})])}],!1,null,"37f3ad6c",null);t.default=component.exports},609:function(e,t,n){"use strict";n.r(t);var r=n(11),o=(n(27),n(22)),c=n(664),l=n(563),d=o.a.get("posts"),h={components:{RecommentDetail:c.default,InputComment:l.default},props:{comment:{type:Object,default:function(){}}},data:function(){return{showRecomment:!1,reComments:[],showInput:!1,user:null}},watch:{"$store.state.authModule.user":{handler:function(e){this.user=e},immediate:!0,deep:!0}},created:function(){this.fetchRecomment()},methods:{handleShowPost:function(){this.$emit("showPostDetail")},fetchRecomment:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.getReComment({commentId:e.comment.id});case 3:n=t.sent,e.reComments=n.data,console.log(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},handleShowRecomment:function(){this.showRecomment=!0,this.fetchRecomment()},addMess:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.createReComment({commentId:t.comment.id,content:e.value,userId:t.user.user_id});case 3:r={avatar:t.user.avatar,content:e.value,fullName:t.user.fullName,user_id:t.user.user_id},t.reComments.unshift(r),t.showRecomment=!0,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()}}},m=n(8),component=Object(m.a)(h,(function(){var e,t=this,n=t._self._c;return n("div",[n("div",{staticClass:"pl-4 pt-1 flex gap-2 my-1"},[n("div",{staticClass:"w-8 h-8 rounded-full overflow-hidden"},[n("img",{staticClass:"w-full h-full object-cover",attrs:{src:t.comment.avatar}})]),t._v(" "),n("div",{},[n("div",{staticClass:"px-3 py-1 bg-[#F0F2F5] rounded-2xl overflow-hidden dark:bg-[#3A3B3C]"},[n("div",{staticClass:"text-[13px] font-semibold dark:text-[#E4E6EB]"},[n("nuxt-link",{attrs:{to:"/".concat(t.comment.user_id)}},[t._v(t._s(t.comment.fullName))])],1),t._v(" "),n("div",{staticClass:"text-sm font-normal dark:text-[#E4E6EB]",domProps:{innerHTML:t._s(t.comment.content)}})]),t._v(" "),n("div",{staticClass:"flex"},[n("div",{staticClass:"text-[#65676B] font-bold text-[11px] cursor-pointer hover:underline ml-3"},[t._v("\n          Thích\n        ")]),t._v(" "),n("div",{staticClass:"text-[#65676B] font-bold text-[11px] cursor-pointer hover:underline ml-3",on:{click:function(e){t.showInput=!0}}},[t._v("\n          Phản hồi\n        ")]),t._v(" "),n("div",{staticClass:"text-[#65676B] font-bold text-[11px] cursor-pointer hover:underline ml-3"},[t._v("\n          Chia sẻ\n        ")]),t._v(" "),n("div",{staticClass:"text-[#65676B] text-[11px] cursor-pointer hover:underline ml-3"},[t._v("\n          "+t._s(t.comment.created_at)+"\n        ")])]),t._v(" "),n("div",{staticClass:"ml-3 text-[#65676B] text-sm font-semibold hover:underline cursor-pointer flex items-center mt-1"},[(null===(e=t.reComments)||void 0===e?void 0:e.length)>0&&!t.showRecomment?n("div",{staticClass:"flex items-center gap-2",on:{click:t.handleShowRecomment}},[n("i",{staticStyle:{"background-image":"url('https://static.xx.fbcdn.net/rsrc.php/v3/yn/r/mMPDyvofC5V.png')","background-position":"0px -404px","background-size":"26px 422px",width:"16px",height:"16px","background-repeat":"no-repeat",display:"inline-block",filter:"invert(40%)"}}),t._v("\n          Xem thêm "+t._s(t.reComments.length)+" phản hồi\n        ")]):t._e()]),t._v(" "),t.showRecomment?n("div",t._l(t.reComments,(function(e,t){return n("div",{key:t},[n("RecommentDetail",{attrs:{"re-comment":e}})],1)})),0):t._e(),t._v(" "),t.showInput||t.showRecomment?n("div",[n("InputComment",{on:{addMess:t.addMess}})],1):t._e()])])])}),[],!1,null,null,null);t.default=component.exports},664:function(e,t,n){"use strict";n.r(t);var r={props:{reComment:{type:Object,default:function(){}}},created:function(){console.log(this.reComment)}},o=n(8),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"pl-4 pt-1 flex gap-2 my-1"},[t("div",{staticClass:"w-8 h-8 rounded-full overflow-hidden"},[t("img",{staticClass:"w-full h-full object-cover",attrs:{src:e.reComment.avatar}})]),e._v(" "),t("div",{},[t("div",{staticClass:"px-3 py-1 bg-[#F0F2F5] rounded-2xl overflow-hidden"},[t("div",{staticClass:"text-[13px] font-semibold"},[e._v(e._s(e.reComment.fullName))]),e._v(" "),t("div",{staticClass:"text-sm font-normal",domProps:{innerHTML:e._s(e.reComment.content)}})]),e._v(" "),t("div",{staticClass:"flex"},[t("div",{staticClass:"text-[#65676B] font-bold text-[11px] cursor-pointer hover:underline ml-3"},[e._v("\n        Thích\n      ")]),e._v(" "),t("div",{staticClass:"text-[#65676B] font-bold text-[11px] cursor-pointer hover:underline ml-3"},[e._v("\n        Phản hồi\n      ")]),e._v(" "),t("div",{staticClass:"text-[#65676B] font-bold text-[11px] cursor-pointer hover:underline ml-3"},[e._v("\n        Chia sẻ\n      ")]),e._v(" "),t("div",{staticClass:"text-[#65676B] text-[11px] cursor-pointer hover:underline ml-3"},[e._v("\n        "+e._s(e.reComment.created_at)+"\n      ")])])])])}),[],!1,null,null,null);t.default=component.exports}}]);